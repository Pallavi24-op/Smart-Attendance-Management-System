<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Attendance Management System</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- ===== LOGIN / ROLE SELECT SCREEN ===== -->
    <main id="login-screen" class="login-main">
        <div class="login-card">
            <div class="login-header">
                <div class="logo">
                    <div class="logo-text">
                        <h1>Attendance Management System</h1>
                        <p>Select your role to continue</p>
                    </div>
                </div>
            </div>

            <!-- Step 1: Choose Role -->
            <div id="role-select" class="role-select">
                <p class="role-title">Who are you?</p>
                <div class="role-buttons">
                    <button id="role-lecturer-btn" class="btn primary-btn full-width">
                        Lecturer
                    </button>
                    <button id="role-student-btn" class="btn secondary-btn full-width">
                        Student
                    </button>
                </div>
            </div>

            <!-- Step 2A: Lecturer Login -->
            <section id="lecturer-login-panel" class="login-panel hidden">
                <h2 class="login-title">Lecturer Login</h2>
                <form id="lecturer-login-form">
                    <div class="form-group">
                        <label for="lecturerUsername">Username</label>
                        <input
                            type="text"
                            id="lecturerUsername"
                            placeholder="e.g. lecturer"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <label for="lecturerPassword">Password</label>
                        <input
                            type="password"
                            id="lecturerPassword"
                            placeholder="Enter password"
                            required
                        />
                    </div>
                    <button type="submit" class="btn primary-btn full-width">
                        Login as Lecturer
                    </button>
                    <p class="hint-text">
                        Demo credentials: <strong>lecturer / lect123</strong>
                    </p>
                    <button type="button" id="back-from-lecturer" class="btn light-btn full-width">
                        ← Back to role selection
                    </button>
                </form>
            </section>

            <!-- Step 2B: Student Login -->
            <section id="student-login-panel" class="login-panel hidden">
                <h2 class="login-title">Student Login</h2>
                <form id="student-login-form">
                    <div class="form-group">
                        <label for="studentLoginRoll">Roll Number</label>
                        <input
                            type="number"
                            id="studentLoginRoll"
                            placeholder="Enter your roll number"
                            required
                        />
                    </div>
                    <button type="submit" class="btn secondary-btn full-width">
                        Login as Student
                    </button>
                    <p class="hint-text">
                        Note: Your roll number must be added by a lecturer first.
                    </p>
                    <button type="button" id="back-from-student" class="btn light-btn full-width">
                        ← Back to role selection
                    </button>
                </form>
            </section>
        </div>
    </main>

    <!-- ===== APP SHELL (AFTER LOGIN) ===== -->
    <div id="app-shell" class="app-shell hidden">
        <header class="app-header">
            <div class="logo">
                <div class="logo-text">
                    <h1>Attendance Management System</h1>
                    <p id="user-role-label">Welcome</p>
                </div>
            </div>
            <nav class="header-actions">
                <!-- No tab buttons here anymore: only Logout -->
                <button id="logout-btn" class="btn secondary-btn small-btn">Logout</button>
            </nav>
        </header>

        <main class="app-main">
            <!-- LECTURER PAGE (only for lecturers) -->
            <section id="lecturer-portal" class="portal-section">
                <div class="grid-container">
                    <div class="column">
                        <div class="card">
                            <h2>Add Student</h2>
                            <form id="add-student-form">
                                <div class="form-group">
                                    <label for="studentName">Student Name</label>
                                    <input type="text" id="studentName" placeholder="Enter full name" required />
                                </div>
                                <div class="form-group">
                                    <label for="rollNo">Roll Number</label>
                                    <input type="number" id="rollNo" placeholder="e.g. 101" required />
                                </div>
                                <button type="submit" class="btn primary-btn">Add Student</button>
                            </form>
                        </div>

                        <div class="card">
                            <h2>Mark / Update Attendance</h2>
                            <p class="hint-text" style="margin-bottom: 0.7rem;">
                                Note: You can mark attendance only for students in the list.
                            </p>
                            <form id="attendance-form">
                                <div class="form-group">
                                    <label for="attendanceRollNo">Roll Number</label>
                                    <input type="number" id="attendanceRollNo" placeholder="Enter roll number" required />
                                </div>
                                <div class="form-group">
                                    <label for="totalClasses">Total Classes</label>
                                    <input type="number" id="totalClasses" min="0" placeholder="Total classes" required />
                                </div>
                                <div class="form-group">
                                    <label for="attendedClasses">Attended Classes</label>
                                    <input type="number" id="attendedClasses" min="0" placeholder="Attended classes" required />
                                </div>
                                <button type="submit" class="btn secondary-btn">Save Attendance</button>
                            </form>
                        </div>
                    </div>

                    <div class="column">
                        <div class="card">
                            <div class="card-header-inline">
                                <h2>Student List</h2>
                                <input
                                    type="text"
                                    id="searchStudent"
                                    class="search-input"
                                    placeholder="Search by name or roll no..."
                                />
                            </div>
                            <div class="table-wrapper">
                                <table class="student-table">
                                <thead>
                                <tr>
                                <th>Roll No</th>
                                <th>Name</th>
                                <th>Total</th>
                                <th>Attended</th>
                                <th>%</th>
                                <th>Status</th>
                                <th>Action</th>
        </tr>
    </thead>
    <tbody id="studentTableBody">
        <!-- rows will be injected here -->
    </tbody>
</table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- STUDENT PAGE (only for students) -->
            <section id="student-portal" class="portal-section">
                <div class="center-container">
                    <div class="card wide-card">
                        <h2>Your Attendance</h2>
                        <form id="student-view-form" class="inline-form">
                            <div class="form-group">
                                <label for="viewRollNo">Roll Number</label>
                                <input type="number" id="viewRollNo" placeholder="e.g. 101" required />
                            </div>
                            <button type="submit" class="btn primary-btn">Check Attendance</button>
                        </form>

                        <div id="studentResult" class="result-card hidden">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <p>Attendance Management System &copy; 2025</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
